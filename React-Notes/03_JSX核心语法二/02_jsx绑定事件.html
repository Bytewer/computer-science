<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="app"></div>

    <!-- React开发依赖 -->
    <script src="../lib/react.development.js"></script>
    <script src="../lib/react-dom.development.js"></script>
    <!-- 生产环境中不建议使用 -->
    <script src="../lib/babel.min.js"></script>

    <script type="text/babel">
      class Index extends React.Component {
        constructor() {
          super()
          this.state = {
            message: '按钮发送了点击！！',
            counter: 100
          },
          this.btnClick3 = this.btnClick3.bind(this) // 方案2：构造器绑定
        }

        render() {
          return (
            <div>
              <button onClick={this.btnClick}>按钮1</button>
              {/* 方案1：通过bind绑定this */}
              <button onClick={this.btnClick2.bind(this)}>按钮2</button>
              {/* 方案2：构造器绑定 */}
              <button onClick={this.btnClick3}>按钮3</button>
              {/* 方案3：定义函数时，使用箭头函数 */}
              <button onClick={this.btnClick4}>按钮4</button>
              {/* 方案4（推荐）：直接传入一个箭头函数，在箭头函数中直接传入需要执行的函数*/}
              <button onClick={() => { this.btnClick5() }}>按钮5</button>
            </div>
          )
        }

        btnClick() {
          console.log('按钮发送了点击！！');
        }

        btnClick2() {
          console.log(this.state.message);
        }

        btnClick3() {
          console.log(this.state.message);
        }

        // 箭头函数中永不绑定this，ES6中给对象增加属性的方式：class.field
        btnClick4 = () => {
          // 如果使用this这里不存在就会往上层找
          console.log(this.state.counter);
        }

        btnClick5() {
          console.log(this.state.counter);
        }
      }

      ReactDOM.render(<App />, document.getElementById('app'))
    </script>
  </body>
</html>